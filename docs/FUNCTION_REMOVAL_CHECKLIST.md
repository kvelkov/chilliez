# Function Removal & Refactor Checklist (QuickNode/Axum Migration)

**Date:** 2025-06-18

This document tracks all functions considered for removal or refactor during the QuickNode/Axum migration. For each function, we check if it is used, needed, or should be re-enabled/fixed instead of deleted.

---

## Checklist

### 1. `PoolUpdateProcessor::add_update_callback`
- **Used in:** `event_driven_balance.rs` (via `register_with_webhook_processor`)
- **Status:** Not implemented in current `PoolUpdateProcessor` (QuickNode version).
- **Needed:** YES, if we want event-driven balance monitoring to react to pool updates.
- **Action:** Do NOT delete. RECOMMEND re-implementing a callback/observer pattern in `PoolUpdateProcessor` for pool update events.

### 2. `EventDrivenBalanceMonitor::register_with_webhook_processor`
- **Used in:** Only defined, not called anywhere else.
- **Status:** Not used, but valuable for future event-driven balance monitoring.
- **Needed:** YES, for extensibility and real-time balance updates.
- **Action:** Do NOT delete. Refactor to use new callback/event system when available.

### 3. `PoolUpdateEvent` (type)
- **Used in:** `event_driven_balance.rs`, `webhooks/types.rs`
- **Status:** Still defined, but not produced by QuickNode flow.
- **Needed:** YES, if event-driven balance monitoring is desired.
- **Action:** Consider mapping QuickNode opportunities to `PoolUpdateEvent` or a similar event type for downstream consumers.

### 4. All other legacy Helius/HeliusWebhookManager code
- **Status:** Already removed, not needed.
- **Needed:** NO.
- **Action:** No further action needed.

### 5. Removed Files
- [x] Removed `src/ffi.rs` (legacy FFI bridge, no longer needed)
- [x] Removed `test_arbitrage_ffi.js` (FFI JS test, obsolete)

Reason: QuickNode/Axum migration complete, all FFI and legacy JS bridge logic is deprecated and not used in the new event-driven pipeline.

---

**Policy:**
- Before removing any function, check this list and confirm it is not needed or used.
- If a function is mistakenly removed and later found to be needed, re-enable and refactor as required.

---

*Generated by GitHub Copilot on 2025-06-18.*
